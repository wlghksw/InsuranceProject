<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
    <title>보험 비교 랜딩</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">

    <style>
        /* 커스텀 헤더 스타일 */
        .custom-navbar {
            background-color: #1c2f48;   /* 네이비 */
            border-bottom: 1px solid rgba(0,0,0,.25);
            padding: 14px 20px;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        /* 로고 B (골드) */
        .custom-navbar .navbar-brand {
            color: #d4b46b !important;  /* 골드 */
            font-weight: 900;
            font-size: 40px;
            margin-right: 30px;
        }
        /* 메뉴 링크 (골드) */
        .custom-navbar .nav-link {
            color: #d4b46b !important;
            font-weight: 800;
            font-size: 20px;
            margin-right: 36px;
        }
        .custom-navbar .nav-link:hover {
            color: #d4b46b /* 호버 시 밝은 골드 */
        }

        .chatbot-ui:hover, .to-top-btn:hover {
            background-color: #1c2f48;  /* 밝은 네이비 */
            color: #d4b46b;            /* 아이콘은 골드 */
            transform: scale(1.1);
        }

        /* 검색창 */
        .search-wrap {
            display: flex;
            align-items: center;
            height: 40px;
            width: 400px;
            border: 1px solid #000;       /* 검은 테두리 */
            border-radius: 2px;
            overflow: hidden;
        }
        /* 스크롤 섹션 스타일 */
        html, body {
            margin: 0;
            padding: 0;
            scroll-behavior: smooth;
        }
        .scroll-section {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
            padding-top: 80px;
        }
        #section1 { background: #ffffff; }
        #section2 { background: #ffffff; }
        #section3 { background: #ffffff; }
        #section4 { background: #ffffff; }
        #section5 { background: #ffffff; }
        #section6 { background: #ffffff; }

        /* 수직 내비게이션 점 스타일 */
        .side-nav {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .side-nav li a {
            display: block;
            width: 12px;
            height: 12px;
            background-color: #ccc;
            border-radius: 50%;
            transition: background-color 0.3s ease;
            text-indent: -9999px;
        }
        .side-nav li a.active {
            background-color: #d4b46b;
        }

        /* 챗봇 UI 및 상단 이동 버튼 스타일 */
        .fixed-bottom-right {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 10px;
        }
        .chatbot-ui, .to-top-btn {
            width: 60px; height: 60px; background-color: #1c2f48; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            text-decoration: none; color: white;
            opacity: 0; visibility: hidden;
        }
        .chatbot-ui:hover, .to-top-btn:hover {
            transform: scale(1.1);
        }
        .chatbot-ui i, .to-top-btn i {
            font-size: 2rem;
        }
        .to-top-btn.visible, .chatbot-ui.visible {
            opacity: 1;
            visibility: visible;
        }

        /* [추가된 스타일] 보험 바로가기 배너 스타일 */
        .insurance-banner {
            background-color: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 2rem; /* 아래 h3 태그와의 간격 */
        }
        .insurance-item {
            text-decoration: none;
            color: #333;
            transition: transform 0.2s ease-in-out, color 0.2s ease-in-out;
            display: block;
        }
        .insurance-item:hover {
            transform: translateY(-5px); /* 살짝 위로 올라가는 효과 */
            color: #d4b46b; /* 호버 시 텍스트 색상 변경 */
        }


        .insurance-item i {
            color: #17ec42; /* 아이콘 기본 색상 */
            margin-bottom: 10px;
        }
        .insurance-item p {
            margin-bottom: 0;
            font-weight: 500;
        }
        /* 박스 스타일 */
        .section-box {
            background-color: #fff;
            border: 1px solid #1c2f48;   /* 네이비 테두리 */
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
        }

        /* 큰 제목 */
        .section-box .main-title {
            font-size: 2rem;
            font-weight: 800;
            color: #000;
            margin-bottom: 15px;
            line-height: 1.4;
        }

        /* 강조된 파란색 단어 */
        .section-box .main-title .highlight {
            color: #0056ff; /* 블루 포인트 */
        }

        /* 부제 텍스트 */
        .section-box .sub-title {
            font-size: 1.1rem;
            color: #333;
            margin-bottom: 30px;
        }

        /* 버튼 */
        .section-box .btn-learn-more {
            display: inline-block;
            padding: 10px 20px;
            border: 1px solid #000;
            font-weight: 600;
            color: #000;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .section-box .btn-learn-more:hover {
            background-color: #1c2f48;
            color: #fff;
        }

   .btn-gold-outline {
  color: #d4b46b;
  border: 2px solid #d4b46b;
  background: transparent;
}
.btn-gold-outline:hover {
  background: #d4b46b;
  color: #fff;
}
         .btn-gold-outline {
    color: #1c2f48;
    border: 2px solid #1c2f48;
    background-color: transparent;
    transition: all 0.3s ease;
}

.btn-gold-outline:hover {
    background-color:#1c2f48;
    color: #d4b46b;
}
        .btn-gold-outline {
    color: #d4b46b;
    border: 2px solid #d4b46b;
    background-color: transparent;
    transition: all 0.3s ease;
}

.btn-gold-outline:hover {
    background-color: #d4b46b;
    color: #fff;
}





    </style>
</head>
<body>

<ul class="side-nav">
    <li><a href="#section1"></a></li>
    <li><a href="#section2"></a></li>
    <li><a href="#section3"></a></li>
    <li><a href="#section4"></a></li>
    <li><a href="#section5"></a></li>
    <li><a href="#section6"></a></li>
</ul>

<nav class="navbar navbar-expand-lg custom-navbar">
    <div class="container-fluid">
        <a class="navbar-brand" href="/main" style="color:#d4b46b; font-weight:900;">
            B
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">

            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="/service_intro">서비스 소개</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/user/my_insurance">내 보험찾기</a>
                </li>
                <li class="nav-item d-flex align-items-center">
                    <div class="input-group">
                        <input type="search" class="form-control form-control-sm" placeholder="검색어 입력" aria-label="Search">
                        <button class="btn btn-outline-secondary btn-sm" type="button">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </li>
            </ul>
            <ul class="navbar-nav">
                {{#user}}
                    <li class="nav-item">
                        <span class="nav-link text-dark">안녕하세요. {{nickname}}님</span>
                    </li>
                    <li class="nav-item">
                        <form action="/logout" method="post" class="d-inline">
                            <button type="submit" class="btn btn-gold-outline">로그아웃</button>
                        </form>

                    </li>
                {{/user}}
                {{^user}}
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="/user/login">로그인</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-dark" href="/user/register">회원가입</a>
                    </li>
                {{/user}}
            </ul>
        </div>
    </div>
</nav>

<main>
    <section id="section1" class="scroll-section" style="background-color:#ffffff;">
        <div class="container">
            <div class="row w-100">
                <div class="col-md-6 d-flex align-items-center justify-content-center">
                    <!-- 슬라이드 배너 박스 -->
                    <div style="background-color:#fff; border:2px solid #1c2f48; border-radius:15px; box-shadow:0 0 20px rgba(0,0,0,.1); width:80%; padding:20px; height:400px; display:flex; align-items:center; justify-content:center;">
                        <p class="h5">슬라이드 배너 영역</p>
                    </div>
                </div>
                <div class="col-md-6 d-flex flex-column align-items-start justify-content-center text-start">
                    <div class="insurance-banner w-100"
                         style="border:2px solid #1c2f48; border-radius:15px; background-color:#1c2f48;">
                        <div class="row text-center">
                            <div class="col-6 col-md-3 mb-3 mb-md-0">
                                <a href="#section2" class="insurance-item" style="color:#d4b46b;">
                                    <i class="fas fa-shield-alt fa-2x" style="color:#d4b46b;"></i>
                                    <p style="color:#d4b46b;">상해보험</p>
                                </a>
                            </div>

                            <div class="col-6 col-md-3 mb-3 mb-md-0">
                                <a href="#section3" class="insurance-item" style="color:#d4b46b;">
                                    <i class="fas fa-heartbeat fa-2x" style="color:#d4b46b;"></i>
                                    <p style="color:#d4b46b;">생명보험</p>
                                </a>
                            </div>

                            <div class="col-6 col-md-3">
                                <a href="#section4" class="insurance-item" style="color:#d4b46b;">
                                    <i class="fas fa-lungs fa-2x" style="color:#d4b46b;"></i>
                                    <p style="color:#d4b46b;">암보험</p>
                                </a>
                            </div>



                            <div class="col-6 col-md-3">
                                <a href="#section5" class="insurance-item" style="color:#d4b46b;">
                                    <i class="fas fa-piggy-bank fa-2x" style="color:#d4b46b;"></i>
                                    <p style="color:#d4b46b;">연금보험</p>
                                </a>
                            </div>
                        </div>
                    </div>
                    <h3 style="color:#1c2f48; font-size:3rem; font-weight:bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;보험 비교를<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;빠르고 쉽게!</h3><br>
                </div>
    </section>
    <section id="section2" class="scroll-section section-box">
        <div class="container d-flex flex-column align-items-end justify-content-center text-end">
            <h2 class="main-title">
                "예상치 못한 사고,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
                상해보험으로 <span class="highlight">보호받으세요</span>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </h2>
            <p class="sub-title">"다양한 상해사고에 대한 든든한 보장"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
            <div class="w-100 d-flex justify-content-center mt-3">
                <a href="/accident/recommend" class=" btn-learn-more btn btn-gold-outline btn-lg px-4 py-3 " style="transform: translateX(240px);">
                    <i class="fas fa-search me-2 fas fa-shield-alt fa-1x"></i>상해보험 추천
                </a>
            </div>

        </div>
    </section>



    <section id="section3" class="scroll-section section-box" style="background-color:#ffffff;">
        <div class="container d-flex flex-column align-items-end justify-content-center text-end">
            <h2 class="main-title">
                “가족의 미래를&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
                생명보험으로 <span class="highlight">지켜주세요</span>”&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </h2>
            <p class="sub-title">
                “사랑하는 가족을 위한 든든한 보장”&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </p>
            <div class="w-100 d-flex justify-content-center mt-3">
                <a href="#!" class="btn-learn-more" style="transform: translateX(240px);">+ 더 알아보기</a>
            </div>
        </div>
    </section>


    <section id="section4" class="scroll-section section-box" style="background-color:#ffffff;">
        <div class="container d-flex flex-column align-items-end justify-content-center text-end">
            <h2 class="main-title">
                “걱정되는 암 진단,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
                암보험으로 <span class="highlight">안심하세요</span>”&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </h2>
            <p class="sub-title">
                “치료비 부담을 덜어주는 든든한 암보험”&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </p>
            <div class="w-100 d-flex justify-content-center mt-3">
                <a href="/cancer/recommend" class="btn btn-gold-outline btn-lg px-4 py-3 me-2 btn-learn-more" style="transform: translateX(240px);">
                    <i class="fas fa-search me-2"></i>보장금액 추천
                </a>
                <a href="/cancer/profile-recommend" class="btn btn-gold-outline btn-lg px-4 py-3 btn-learn-more" style="transform: translateX(240px);">
                    <i class="fas fa-user-edit me-2"></i>맞춤형 추천
                </a>
            </div>
        </div>
    </section>


    <section id="section5" class="scroll-section section-box" style="background-color:#ffffff;">
        <div class="container d-flex flex-column align-items-end justify-content-center text-end">
            <h2 class="main-title">
                "미래를 위한 저축,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
                연금보험으로 <span class="highlight">안전하게</span>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </h2>
            <p class="sub-title">
                "연금보험으로 더 나은 미래를 준비하세요"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </p>
            <div class="w-100 d-flex justify-content-center mt-3">
                <a href="/savings/recommend" class="btn btn-gold-outline btn-lg px-4 py-3 btn-learn-more" style="transform: translateX(240px);">
                    <i class="fas fa-search me-2 fas fa-piggy-bank fa-1x"></i>연금보험 추천
                </a>
            </div>
        </div>
    </section>


    <section id="section6" class="scroll-section" style="background-color:#ffffff;">
        <h2>추가 페이지</h2>
        <p>[추가 페이지의 설명 부분]</p>
    </section>
</main>


<div class="fixed-bottom-right">
    <a href="#section1" class="to-top-btn" id="to-top-btn">
        <i class="fas fa-arrow-up"></i>
    </a>
    <a href="/chatbot" class="chatbot-ui" id="chatbot-ui">
        <i class="fas fa-robot"></i>
    </a>
</div>


<footer style="background-color:#1c2f48; color:#d4b46b;" class="text-center py-3">
    <p class="mb-0">©2025 Turtle Insurance. All Rights Reserved.</p>
</footer>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const sections = document.querySelectorAll('.scroll-section');
        const navLinks = document.querySelectorAll('.side-nav a');
        const toTopBtn = document.getElementById('to-top-btn');
        const chatbotUi = document.getElementById('chatbot-ui');

        function updateActiveState() {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (window.scrollY >= sectionTop - (window.innerHeight / 2)) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').includes(current)) {
                    link.classList.add('active');
                }
            });

            // "맨 위로" 버튼 가시성 제어
            if (window.scrollY > 300) {
                toTopBtn.classList.add('visible');
            } else {
                toTopBtn.classList.remove('visible');
            }

            // 챗봇 버튼은 항상 보이도록 설정
            chatbotUi.classList.add('visible');
        }

        // 스크롤 이벤트에 스로틀링 적용
        let throttleTimer = false;
        window.addEventListener('scroll', () => {
            if (throttleTimer) return;
            throttleTimer = true;
            setTimeout(() => {
                updateActiveState();
                throttleTimer = false;
            }, 100);
        });

        // 페이지 로드 시 초기 상태 업데이트
        updateActiveState();
    });
</script>
</body>
</html>